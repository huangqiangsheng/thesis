\chapter{硅基反射微环的光调制器}
纯硅基调制器的进展我们已经在第一章\ref{pure_simodulator}中有所分析。硅基光调制器目前都采用调节波导折射率，从而改变谐振腔的谐振峰或者，或者改变马赫曾德两臂的相位实现调制。谐振腔型硅基光调制器，可以采用微环或者光子晶体结构。这类光调制器具有尺寸小，速度快的特点，但是光学带宽受到谐振峰漂移量的限制。如果采用热调节微环谐振峰的位置，那么只有10~nm左右的漂移量。而硅基马赫曾德型光调制器具有光学带宽大，速度大的特点，但是调制区尺寸大。目前硅基微弱的等离子色散效应，至少需要500~$\mu m$的臂长才能调节$\Pi$的相位变化。

在本章中我们分析在微环内引入可调的反射镜，从而可以调制输出波导光的强度。首先我们对微环内有反射进行了理论分析。接下来我们在微环内加工光栅，研究不同反射率下，微环透射谱的变化。随后，我们分析可调反射镜的性质。最后我们设计了在微环中集成可调反射镜，实现光的强度调制。
\section{微环内反射的理论分析}
微环内反射对微环性能的影响可以时域或者频域为切入点进行分析。以频域为切入点，需要采用传输矩阵模型\cite{yariv2006photonics}。而以时域为切入点，需要用时变的微分方程来分析\cite{haus1984waves}。由于频域模型下的传输矩阵模型需要考虑微环内部反射的具体结构，以及具体的工作波长，因此更适用于设计。而时域中的时变微分方程则更适合分析反射对微环的动态和静态进行分析。下面我们首先介绍基于时变的微分方程法分析反射对微环透射谱的影响\cite{haus1984waves,Li2016design,little1997microring}。
\begin{figure}[htb]
	\centering
	\includegraphics[width=6cm]{./Pictures/chapt5_ring_reflector_structure.jpg}
	\caption{在时序耦合模式理论(tCMT)下，有内部反射的微环模型。其中正向传播的能量$\alpha_+$和反向传播的能量$\alpha_-$，在反射处相互耦合}
	\label{chapt5_ring_reflector_structure}
\end{figure}
基于时变的微分方程法又称作时序耦合模式理论(Temporal Coupled Mode Theory， tCMT)。当微环内部有反射时，微环内部就会有两个方向传播的光模式，如图\ref{chapt5_ring_reflector_structure}所示。我们根据其传播的方向，将其正向传播的幅值记为$\alpha_+$，将反向传播的幅值记为$\alpha_-$。而$|\alpha_+|^2$和$|\alpha_-|^2$表示正向传播和反向传播模式的能量。当微环中有反射时，这两个模式在反射处相互耦合，从而影响了微环的正常输出光谱，使其消光比发生变化，甚至谐振模式产生了劈裂。如果用tCMT方程描述这种情况就如公式\ref{Equ:alpha_ccw}，公式\ref{Equ:alpha_cw}和公式\ref{Equ:St_Sr}所示\cite{Li2016design}。
\begin{equation}
\label{Equ:alpha_ccw}
\frac{d\alpha_+}{dt}=j\omega_0\alpha_+-\left(\frac{1}{\tau_i}+\frac{1}{\tau_l}\right)\alpha_+-j\mu_iS_i-j\mu_r\alpha_-
\end{equation}
\begin{equation}
\label{Equ:alpha_cw}
\frac{d\alpha_-}{dt}=j\omega_0\alpha_--\left(\frac{1}{\tau_i}+\frac{1}{\tau_l}\right)\alpha_--j\mu_r^*\alpha_-
\end{equation}
\begin{equation}
\label{Equ:St_Sr}
S_t = S_i-j\mu_i\alpha_+ ~~~~~~~~~~~~ S_r = -j\mu_i\alpha_-
\end{equation}
其中$\omega_0$是微环的谐振频率。$S_i$表示输入光的振幅。$1/\tau_i$表示微环中光场耦合到波导导致的能量衰减率。$1/tau_l$表示微环中的光场由于微环本身弯曲，材料等损耗$\alpha_l$导致的能量衰减率。$\mu_i$是波导和微环的波导耦合强度。$\mu_r$是$\alpha_+$和$\alpha_-$的反射耦合强度。其中，波导耦合强度$\mu_i$与衰减率$\tau_i$，损耗系数$\alpha_l$与衰减率$\tau_l$，反射耦合强度$\mu_r$与光场反射率$r$的关系分别如公式\ref{Equ:mu_tau}所示\cite{little1997microring}。
\begin{equation}
\label{Equ:mu_tau}
\mu_i^2=k_i^2\frac{c}{n_gL}=\frac{2}{\tau_i}~~~~~~~~~~~~\alpha_l^2\frac{c}{n_gL}=\frac{2}{\tau_l}~~~~~~~~~~~~\mu_r^2=r^2\frac{c}{n_gL}^2
\end{equation}
其中$c$是真空中的光速，$n_g$是波导的群折射率，$L$是微环的周长。通过解公式\ref{Equ:alpha_ccw}、公式\ref{Equ:alpha_cw}和公式\ref{Equ:St_Sr}，我们可以获得波导输出光场$S_i$与输入光场$S_i$的关系如公式\ref{Equ:St}所示。
\begin{equation}
\label{Equ:St}
\frac{S_t}{S_i}=1-\frac{1}{\tau_i}\left(\frac{1}{j(\omega-\omega_1)+(1/\tau_i+1/\tau_l)} + \frac{1}{j(\omega-\omega_2)+(1/\tau_i+1/\tau_l)}\right)
\end{equation}

可以看到，此时输出光谱需要用两个洛仑兹线形(Lorentzian-shape)进行拟合，而传统的微环，只需要一个洛仑兹线线。两个洛仑兹线形的中心频率分别为$\omega_1 = \omega_0+|\mu_r|$，$\omega_2=\omega_0-|\mu_r|$。中心频率的偏移量正比于微环的反射耦合强度$\mu_r$，也就是中间反射器的反射强度$r$。在两个谐振频率出的透射率$P_r$如公式\ref{Equ:Pr}所示。
\begin{equation}
\label{Equ:Pr}
P_r = \left|\frac{S_t}{S_i}\right|^2_{\omega = \omega_1~or~\omega_2}= \left(\frac{\alpha_l^2}{k_i^2+\alpha_l^2}\right)^2+\frac{(k_i^4-2k_i^2\alpha_l^2)}{(k_i^2+\alpha_l^2)^2+16r^2}
\end{equation}
当$r=0$时，公式\ref{Equ:Pr}就变成了普通微环的谐振频率处的透射率：
\begin{equation}
\label{Equ:Pr_no_r}
P_r=\left(\frac{\alpha_l^2-k_i^2}{k_i^2+\alpha_l^2}\right)^2
\end{equation}
当$k_i = \alpha_l$时，微环处于临界工作点，$k_i$成为临界耦合系数$k$。此时，普通微环在谐振频率处的透射率达到最小值0。而当微环内有反射时，谐振峰处的透射谱将于反射率$r$有关，如公式\ref{Equ:Pr_critical_r}所示。微环在谐振峰处的消光比我们采用公式\ref{Equ:RingER}的定义。
\begin{equation}
\label{Equ:RingER}
ER_{ring}=-10 \times log_{10}(Pr)
\end{equation}
\begin{equation}
\label{Equ:Pr_critical_r}
P_r=\frac{1}{4}-\frac{k_i^4}{4k_i^2+16r^2}
\end{equation}
\begin{figure}[htb]
	\centering
	\includegraphics[width=12cm]{./Pictures/chapt5_r_k_Ex_alpha1e-2.eps}
	\caption{当微环损耗$\alpha_l^2= 10^{-2}$时，谐振峰处的消光比与耦合系数$k_i^2$，内部反射率$r^2$的关系}
	\label{chapt5_r_k_Ex_alpha1e-2}
\end{figure}
\begin{figure}[htb]
	\centering
	\includegraphics[width=12cm]{./Pictures/chapt5_r_k_Ex_alpha1e-3.eps}
	\caption{当微环损耗$\alpha_l^2= 10^{-3}$时，谐振峰处的消光比与耦合系数$k_i^2$，内部反射率$r^2$的关系}
	\label{chapt5_r_k_Ex_alpha1e-3}
\end{figure}
\begin{figure}[htb]
	\centering
	\includegraphics[width=12cm]{./Pictures/chapt5_r_k_Ex_alpha1e-4.eps}
	\caption{当微环损耗$\alpha_l^2= 10^{-4}$时，谐振峰处的消光比与耦合系数$k_i^2$，内部反射率$r^2$的关系}
	\label{chapt5_r_k_Ex_alpha1e-4}
\end{figure}
图\ref{chapt5_r_k_Ex_alpha1e-2},\ref{chapt5_r_k_Ex_alpha1e-3},\ref{chapt5_r_k_Ex_alpha1e-4}展示了，在不同损耗$\alpha_l$的微环中，$k_i$,$r$对谐振频率处的消光比的影响。从图\ref{chapt5_r_k_Ex_alpha1e-2}可以看到，当微环的损耗很大($\alpha_l^2 = 10^{-2}$)时，微环内部存在微弱的反射时($r^2<10^{-7}$)，对$k_i$与消光比的关系影响很弱，依旧是在$k_i=\alpha_l$时存在最大的消光比。不过此时，临界耦合处的消光比，随着反射率的增大而减弱。当微环内部存在的反射率继续增大时，$k_i$的变化对消光比的影响逐渐弱。而且谐振峰消光比最大处满足的条件不再是$k_i = \alpha_l$，而是$k_i > \alpha_l$，并且随着$r$的增加对应的$k_i$继续增大。

当微环内部损耗降低到$\alpha_l^2 = 10^{-3}$时，从图\ref{chapt5_r_k_Ex_alpha1e-3}可以看到，微环对内部的反射敏感。只有当$r^2<10^{-8}$时，微环才能保持原先的$k_i$与消光比的关系。当微环内部的反射率继续增加到$r>10^{-4}$时，谐振峰的消光比最大时的$k_i$也是随着$r$的增加而增大。并且相比于$r^2<10^{-8}$时，高的消光比只存在很窄的$k_i\approx k_i$区域，而当$r^2>10^{-2}$,高的消光比对应更宽的$k_i$区域。

当微环的内部损耗继续降低到$\alpha_l^2=10^{-4}$时，从图\ref{chapt5_r_k_Ex_alpha1e-4}可以看到，微环对内部反射更加敏感。在临界耦合处的微环只需要引入极小的反射{$r^2\approx 10^{-10}$}，消光比就会有很大的改变。而当$r>10^{-6}$时，谐振峰的消光比最大时对应的$k_i$和$r$的变化几乎成线性关系。$r^2>10^{-2}$时，高的消光比存在的区域比之前高损耗的情况下，面积更大。

利用微环内反射引起反射谱变化的现象，之前研究人员已经在超低损耗微盘中，利用微小颗粒附着微盘引起微环内部微小反射，从而使实现检测半径只有30~nm纳米颗粒\cite{zhu2010chip}。而对于当微环内部反射率很大时，高消光比的微环对耦合系数不敏感的现象，我们可以用于实现工艺容差大的光波长滤波器\cite{qiangsheng2015fsr}。

我们在本论文中，我们将探讨调制微环内部反射率从而实现光调制器。不过下面我们先将对这个理论现象进行实验的验证。
\section{含内部反射的微环的设计与实验}
\begin{figure}[htb]
	\centering
	\includegraphics[width=12cm]{./Pictures/chapt5_ring_grating_reflector_structure.jpg}
	\caption{利用光栅结构在微环内引入反射的结构示意图}
	\label{chapt5_ring_grating_reflector_structure}
\end{figure}

在实验分析微环内反射的影响时，我们也分析了不同反射强度和耦合系数对微环投射谱的影响。我们通过将微环内部加入光栅，具体结构示意图如图\ref{chapt5_ring_grating_reflector_structure}所示，从而引入反射。通过改变反射光栅的尺寸，调节反射强度。而波导与微环的耦合系数则通过波导和微环的距离调节。
\subsection{结构参数设计和仿真}
在设计这个结构时，我们采用的频域的传输矩阵法\cite{yariv2006photonics}。在图\ref{chapt5_ring_grating_reflector_structure}中的全局图中，$\tau$是波导的自耦合系数，$\kappa$是交叉耦合系数，$R$是微环半径。$\tau$和$\kappa$满足能量守恒关系$\tau^2+\kappa^2=1$。在光栅的第$i$个周期的局部小图中，$A_i, B_i$分别是正向和反向传播模式的振幅。$\Lambda$是光栅的周期，$l_g$是光栅齿的宽度，$h_g$是光栅齿的高度，$r$是单个光栅界面的反射率。另外我们定义光栅的占空比$D=l_g/\Lambda$。

当$N$个光栅均匀分布在整个微环时，对于微环中m阶的谐振波长$\lambda_m$，若$N = 2m$，则谐振波长$\lambda_m$正好是光栅反射谱的中心波长。这是由于第m阶的谐振波长满足公式\ref{Equ:lambdam}：
\begin{equation}
\label{Equ:lambdam}
m\lambda_m = 2n_{n_{eff}}\pi R
\end{equation}
其中$n_{eff}$为波导在$\lambda_m$的等效折射率。若$N=2m$，则公式\ref{Equ:lambdam}可以写成：
\begin{equation}
\label{Equ:grating}
\frac{\lambda_m}{2}=\frac{2n_{eff}\pi R}{N}=n_{eff}\Lambda.
\end{equation}

公式\ref{Equ:grating}说明$\lambda_m$此时正好是光栅的布拉格波长(Bragg wavelength)，处于反射谱的中心。我们通过调节光栅的尺寸，进而调节$\lambda_m$处反射率的大小。而微环其他的谐振波长则不受到光栅反射的影响。 

接下来，我们详细介绍利用传输矩阵计算包含光栅的微环的透射谱的方法。微环的传输矩阵可以写成公式\ref{Equ:ring_TMM}所示：
\begin{equation}
\label{Equ:ring_TMM}
\begin{bmatrix}
S_{i}\\
S_{t}
\end{bmatrix} =\frac{1}{k}\begin{bmatrix}
1 & -\tau\\
\tau & -1
\end{bmatrix}
\begin{bmatrix}
A_{1}\\
A_{n+1}
\end{bmatrix}
\end{equation}

我们假设$A_1$与$A_{n+1}$的关系为$A_1=f(A_{n+1})$,那么微环的透射谱为公式\ref{Equ:ring_TMM_T}。
\begin{equation}
\label{Equ:ring_TMM_T}
\frac{S_t}{S_i}=\frac{\tau f(A_{n+1})-A_{n+1}}{f(A_{n+1}-\tau A_{n+1})}
\end{equation}

我们再根据光栅的传输矩阵方程，计算得到$f(A_{n+1})$的形式。在第i个光栅周期中$A_i$，$B_i$，$A_{i+1}$，$B{i+1}$的关系如下：
\begin{equation}
\label{Equ:ithTMM}
\begin{bmatrix}
A_{i}\\
B_{i}
\end{bmatrix} 
=
\frac{1}{1-r^2}
\begin{bmatrix}
1 & r\\
r & 1
\end{bmatrix}
\begin{bmatrix}
e^{i\phi_1} & 0 \\
0 & e^{-i\phi_1}
\end{bmatrix}
\begin{bmatrix}
1 & r\\
r & 1
\end{bmatrix}
\begin{bmatrix}
e^{i\phi_2} & 0 \\
0 & e^{-i\phi_2}
\end{bmatrix}
\begin{bmatrix}
A_{i+1}\\
B_{i+1}
\end{bmatrix} 
\end{equation}
其中$\phi_1=D\pi/2$，$\phi_2=(1-D)\pi/2$。我们将中间的四个矩阵形式相乘，可以简化为公式\ref{Equ:ring_TMM_sim}的形式。
\begin{equation}
\label{Equ:ring_TMM_sim}
\begin{bmatrix}
A_{i}\\
B_{i}
\end{bmatrix} 
=
\begin{bmatrix}
m_{11} & m_{12}\\
m_{21} & m_{22}
\end{bmatrix}
\begin{bmatrix}
A_{i+1}\\
B_{i+1}
\end{bmatrix}
\end{equation}

我们只需要把N个周期的光栅矩阵相乘就可以获得如$A_1$，$B_1$，$A_{N+1}$，$B_{N+1}$的关系：
\begin{equation}
\label{Equ:ring_TMM_multi}
\begin{bmatrix}
A_{1}\\
B_{1}
\end{bmatrix} 
=
\begin{bmatrix}
m_{11} & m_{12}\\
m_{21} & m_{22}
\end{bmatrix}^N
\begin{bmatrix}
A_{N+1}\\
B_{N+1}
\end{bmatrix}
=
\begin{bmatrix}
M_{11} & M_{12}\\
M_{21} & M_{22}
\end{bmatrix}
\begin{bmatrix}
A_{N+1}\\
B_{N+1}
\end{bmatrix}
=
\textbf{M}
\begin{bmatrix}
A_{N+1}\\
B_{N+1}
\end{bmatrix}
\end{equation}

利用布洛赫波(Bloch Wave)的方法\cite{yariv2006photonics}，我们将最后的\textbf{M}矩阵写为：
\begin{equation}
\label{Equ:ring_bloch}
\textbf{M}
=
\begin{bmatrix}
m_{11}U_{N-1} - U_{N-1}& m_{12}U_{N-1}\\
m_{21}U_{N-1} & m_{22}U_{N-1}-U_{N-2}
\end{bmatrix}
\end{equation}
其中，
\begin{equation}
\label{Equ:UN}
U_N = \frac{sin((N+1)K\Lambda)}{sin(K\Lambda)}
\end{equation}
\begin{equation}
\label{Equ:KLambda}
K\Lambda = cos^-1\left(\frac{m_{11}+m_{22}}{2}\right)
\end{equation}

为了求解$A_1$与$A_{N+1}$的关系，我们还需要$B_{1}$与$B_{N+1}$的关系，如公式\ref{Equ:B1BN1}所示。
\begin{equation}
\label{Equ:B1BN1}
B_{N+1} = \tau B_1 
\end{equation}
利用公式\ref{Equ:ring_TMM_multi}，\ref{Equ:ring_bloch}，\ref{Equ:UN}，\ref{Equ:KLambda}，\ref{Equ:B1BN1}我们可以获得$A_1$与$A_{N+1}$的关系如公式\ref{Equ:A1relationAN}所示。
\begin{equation}
\label{Equ:A1relationAN}
A_1 = \frac{M_{11}-\tau |\textbf{M}|}{1-\tau M_{22}}A_{N+1}
\end{equation}
将公式\ref{Equ:A1relationAN}代入公式\ref{Equ:ring_TMM_T}我们就可以得到公式\ref{Equ:ring_grating_T}，用于计算含光栅微环的透射谱。
\begin{equation}
\label{Equ:ring_grating_T}
\frac{S_t}{S_i}=\frac{\tau M_{11} + \tau M_{22} - \tau^2|\textbf{M}|-1}{M_{11}+\tau^2 M_{22}-2\tau}
\end{equation}
\begin{figure}[htb]
	\small
	\subfigure[]{
		\begin{minipage}[]{0.5\textwidth}
			\centering
			\label{chapt5_grating_ring_single_small}
			\includegraphics[width=8cm]{./Pictures/chapt5_grating_ring_single.eps}
		\end{minipage}}
	\subfigure[]{
		\begin{minipage}[]{0.5\textwidth}
			\centering
			\label{chapt5_grating_ring_single_large} %% label for second subfigure
			\includegraphics[width=8cm]{./Pictures/chapt5_grating_ring_single_large.eps}
		\end{minipage}}
	\caption{含光栅的微环的实验和理论的透射谱，其中红色虚线是理论计算结果，黑色实线是实验测试结果。(a)包含不同微环谐振波长的透射谱；(b)与光栅布拉格波长相同的谐振波的局部放大图}
	\label{chapt5_grating_ring_single}	
\end{figure}

图\ref{chapt5_grating_ring_single}展示了，半径30~$\mu m$的光栅微环透射谱。其中红虚线部分是按公式\ref{Equ:ring_grating_T}计算的结果。而黑实线则是实验测试的结果。光栅的个数$N = 658$，对应的谐振波长$\lambda = 1541.1~nm$，占空比$D = 0.2$， 品质因子$Q = 100,000$，自耦合系数$\tau = 0.87$，单个周期的反射率$r = 0.000335$。从图\ref{chapt5_grating_ring_single_small}中可以看出，由于光栅只在谐振波长1541.1~nm处有反射，因此，此处谐振波长的消光与没有反射谐振峰的消光比有很大不同。由于微环Q值比较高，而此时自耦合系数比较小(意味着交叉耦合系数$k$远大于临界耦合系数)，根据图\ref{chapt5_r_k_Ex_alpha1e-4}可以知道，因此在1541.1~nm处大的反射率能引起此时较大的消光比。从图\ref{chapt5_grating_ring_single_large}可以看到理论计算结果和实际测试结果十分吻合。

\subsection{结构制作和实验结果}
\begin{figure}[htb]
	\centering
	\includegraphics[width=12cm]{./Pictures/chapt5_ring_grating_reflector_structure_real.jpg}
	\caption{含光栅微环的电镜图，右图是微环的局部放大图}
	\label{chapt5_ring_grating_reflector_structure_real}
\end{figure}
包含光栅的微环结构，我们是采用电子束光刻机定义图形。工艺流程与第五章\ref{fab_siwg}小结相同。SOI最上层硅的厚度是220~nm。为了防止光栅结构引起微环侧壁粗糙导致损耗，我们采用浅刻蚀70~nm宽度为600~nm的脊形波导。光栅和微环是同时用电子束光刻机定义的，无需套刻。最后加工完成的期期间电镜图如图\ref{chapt5_ring_grating_reflector_structure_real}所示。我们也在输入输出波导端加上光栅耦合结构，用于和光纤的耦合。

\begin{figure}[htb]
	\centering
	\includegraphics[width=12cm]{./Pictures/chapt5_ring_grating_vary_reflector.jpg}
	\caption{(a)含光栅微环的透射谱随不同反射率的关系，其中黑实线是实验测试的结果，红虚线是理论计算的结果；(b)和(c)分别是理论计算得的两个峰之间劈裂的距离和消光比随反射率的关系}
	\label{chapt5_ring_grating_vary_reflector}
\end{figure}

图\ref{chapt5_ring_grating_vary_reflector}(a)展示的透射谱的变化是通过控制光栅的尺寸参数$h_g$从30~nm变化到80~nm来实现的，对应的单个周期的反射率是从0.0001736变化到0.00132。由于光栅尺寸的变化，以及工艺的不稳定性，谐振峰的波长会有所漂移。从图\ref{chapt5_ring_grating_vary_reflector}(b)我们可以看到当反射率增大时，谐振峰劈裂的间隔也会增加。虽然，在反射率小于一个临界值$\r_c$的时候，谐振峰看起来只有一个，没有劈裂，其实这是两个洛仑兹线性的谐振峰叠加在一起形成的。图\ref{chapt5_ring_grating_vary_reflector}(c)展示的反射率与消光比的关系，从中我们可以到，当反射率达到临界的$r_c$时，透射谱的消光比达到最高，并且随着反射率的增加，反射率将稳定在一个值。这个现象与我们之前用时域微分法的图\ref{chapt5_r_k_Ex_alpha1e-4}的有所差别。这是由于这里的反射率是单个周期的反射率，而图\ref{chapt5_r_k_Ex_alpha1e-4}的反射率是个整体的反射率。并且用频域的传输矩阵法，整体光栅的反射率将不仅包含对光振幅的反射，还有对光振幅相位的影响，而图\ref{chapt5_r_k_Ex_alpha1e-4}的反射率仅包含对光幅度的影响。因此，对与含光栅的微环结构，图\ref{chapt5_ring_grating_vary_reflector}(c)比图\ref{chapt5_r_k_Ex_alpha1e-4}的精确度更高。

\begin{figure}[htb]
	\centering
	\includegraphics[width=12cm]{./Pictures/chapt5_ring_grating_vary_tau.jpg}
	\caption{(a)含光栅微环的透射谱随不同自耦合系数$\tau$的关系，其中黑实线是实验测试的结果，红虚线是理论计算的结果；(b)和(c)分别是理论计算得的两个峰之间劈裂的距离和消光比随自耦合系数$\tau$的关系}
	\label{chapt5_ring_grating_vary_tau}
\end{figure}

接下来，我们还分析了含光栅的微环的自耦合系数$\tau$的变化对透射谱的影响。我们将波导和微环的间隔从50~nm变化到300~nm，使其对应的自耦合系数$\tau$从0.3变化到0.9，即交叉耦合系数$\kappa$则从0.954变化到0.435。图\ref{chapt5_ring_grating_vary_tau}(a)展示了测量与理论的透射谱的变化与自耦合系数的关系。图\ref{chapt5_ring_grating_vary_tau}(b)中展示了，随着自耦合系数$\tau$的增加，刚开始两个劈裂的波长距离近，无法分辨。但是超过一个临界值$\tau_c$后，两个劈裂波长之间的距离，随着自耦合系数的增大而逐渐增加。当$\tau$趋向于1时，劈裂波长之间的距离将趋向于饱和。从图\ref{chapt5_ring_grating_vary_tau}(c)，我们可以看到随着自耦合系数$\tau$的增加，劈裂波长处的消光比先逐渐增加。当自耦合系数达到相同临界点$\tau_c$时，含光栅的微环的消光比达到最高。当自耦合系数超过$\tau_c$时，消光比又会回落。在图\ref{chapt5_ring_grating_vary_tau}(c)中的红线是不含反射的普通微环的消光比随自耦合系数的关系。通过比较，我们可以得到，微环中应入反射，将会使更大范围的自耦合系数$\tau$拥有高的消光比。

通过比较图\ref{chapt5_ring_grating_vary_reflector}(b)和图\ref{chapt5_ring_grating_vary_tau}(b)我们可以发现，反射率$r$的大小决定了当自耦合系数趋向于1时，谐振峰劈裂的最大距离。通过比较图\ref{chapt5_ring_grating_vary_reflector}(c)和图\ref{chapt5_ring_grating_vary_tau}(c)我们可以发现自耦合系数$\tau$决定了当反射率大于临界值$r_c$时，最后的饱和消光比。

如果利用微环加光栅的结构制作调制器，我们可以通过调节每个周期的反射率$r$，根据图\ref{chapt5_ring_grating_vary_reflector}(c)，使其工作在临界点$r_c$附近。制作这种结构的硅基光调制器，不仅对电极套刻要求很高，而且由于光栅宽度只有30~nm到80~nm，对掺杂的精度要求也高。这驱使我们设计新的结构以实现微环内部的反射率可调。

\section{硅基可调反射镜的设计} \label{tunable_reflector}
\begin{figure}[htb]
	\centering
	\includegraphics[width=12cm]{./Pictures/chapt5_tunable_reflection_mirror.jpg}
	\caption{硅基可调反射镜的结构示意图}
	\label{chapt5_tunable_reflection_mirror}
\end{figure}
\begin{figure}[htb]
	\centering
	\includegraphics[width=15cm]{./Pictures/chapt5_tunable_reflection_mirror_inter.jpg}
	\caption{硅基可调反射镜在Intercoonnect\cite{interconnect}中的拆解示意图}
	\label{chapt5_tunable_reflection_mirror_inter}
\end{figure}
我们利用输出端为回路反射镜(Loop Mirror)的马赫曾德干涉器作为可调反射镜\ref{Li2016design}，结构示意图见图\ref{chapt5_tunable_reflection_mirror}所示，其中两臂的相位分别是$\phi_1$和$\phi_2$。我们采用的马赫曾德干涉器两臂光学长度相等$\phi_1 = \phi_2$，通过调制其中一臂的相位，就可以实现反射谱的强度变化。我们采用商业软件Lumerical中基于散射矩阵计算多个级联光学器件性能的Interconnect\cite{interconnect}对可调反射镜的性能进行计算。可调反射镜可以分解成三个基本光学器件：3~dB耦合器，直波导和马赫曾德两臂上的相位调制波导，具体在Interconnect中的分解如图\ref{chapt5_tunable_reflection_mirror_inter}所示。
\begin{figure}[htb]
	\centering
	\includegraphics[width=10cm]{./Pictures/chapt5_tunable_reflection_mirror_spec.jpg}
	\caption{硅基可调反射镜在等臂情况下的反射(R)谱和透射(T)谱}
	\label{chapt5_tunable_reflection_mirror_spec}
\end{figure}
\begin{figure}[htb]
	\centering
	\includegraphics[width=10cm]{./Pictures/chapt5_tunable_reflection_mirror_spec_single.jpg}
	\caption{硅基可调反射镜在1540~nm处的反射率和随其中一臂折射率变化的关系}
	\label{chapt5_tunable_reflection_mirror_spec_single}
\end{figure}
我们采用的3~dB耦合器，直波导，以及两臂上的相位调制波导的尺寸，都是依据Imec代工厂提供的数据\cite{Imec}。硅的直波导的参数是，220~nm厚深刻蚀450~nm宽的条形波导，其在1540~nm处的等效折射率$n_{eff}$为2.368，群折射率$n_{g}$为4.329，损耗是0.2~dB/mm。相位调制波导的参数是，215~nm厚浅刻蚀155~nm，450~nm宽的脊形波导。其在1540~nm处的等效折射率$n_{eff}$为2.450，群折射率$n_{g}$为4.0367，损耗是3~dB/mm。我们假设马赫曾德两臂上的相位调制波导的长度都为20~$\mu m$，回路反射镜的长度为50 $\mu m$，并且3~dB耦合器是理想的能量均分的耦合器，那么可调反射镜在此情况下的反射谱和透射谱如图\ref{chapt5_tunable_reflection_mirror_spec}所示。可以看到，仿真的反射谱既宽又平坦。不过在实际中，由于3~dB耦合器的带宽限制，会使反射带宽减小。接下来，我们扫描其中一个相位调制波导的等效折率，分析两臂的等效折射率差$\Delta n_{eff}$与1540~nm处的反射率和透射率的关系，如图\ref{chapt5_tunable_reflection_mirror_spec_single}所示。可以看到，当$\Delta n_{eff}$变化时，反射率和透射率的变化趋势是正弦函数，$\Delta n_{eff}$的变化周期为0.0385。

\begin{figure}[htb]
	\centering
	\includegraphics[width=15cm]{./Pictures/chapt5_tunable_reflection_mirror_flatten.jpg}
	\caption{硅基可调反射镜展开成三个级联的马赫曾德的结构图。中间的马赫曾德的臂长为回路反射镜的长度，最右边马赫曾德的两臂长度与最左面马赫曾德的两臂长度互换}
	\label{chapt5_tunable_reflection_mirror_flatten}
\end{figure}
虽然商业软件能给我们准确的计算结果，但是我们无法了解，通过调整哪些参数能够改变折射率以及折射率周期。在此，我们采用频域的传输矩阵计算可调反射镜的频谱，分析具体哪些参数能影响反射率。首先我们对可调反射镜的结构\ref{chapt5_tunable_reflection_mirror}进行镜像展开，等效成两个级联的马赫曾德结构，如图\ref{chapt5_tunable_reflection_mirror_flatten}所示。左边马赫曾德的上下两臂引入的相位分别是$\phi_1$，$\phi_2$。而由于回路反射镜的关系，右边马赫曾德的上下两臂引入的相位分别是是$\phi_2$， $\phi_1$。在考虑理想的3~dB耦合器，无损耗的波导情况下，俩个级联马赫曾德的传输矩阵如公式\ref{Equ:three_MZI}所示。
\begin{equation}
\label{Equ:three_MZI}
\begin{bmatrix}
t\\
r
\end{bmatrix}
= e^{\phi_1+\phi_2}
\begin{bmatrix}
-cos(\Delta \phi) & sin(\Delta \phi)\\
-sin(\Delta \phi) & -cos(\Delta \phi)
\end{bmatrix}
\begin{bmatrix}
E_{in}\\
0
\end{bmatrix}
\end{equation}
其中，$\Delta \phi = \phi_1-\phi_2$，$E_{in}$为输入光的振幅。根据公式\ref{Equ:three_MZI}，我们可以获得透射$T$和反射$R$的表达式分别为：
\begin{equation}
\label{Equ:tunable_T}
T = |t|^2 = cos(\Delta \phi)^2 |E_{in}|^2 = \frac{1+cos(\Delta n_{eff}\frac{4\pi L}{\lambda})}{2}|E_{in}|^2
\end{equation}
\begin{equation}
\label{Equ:tunable_R}
R = |r|^2 = sin(\Delta \phi)^2 |E_{in}|^2= \frac{1-cos(\Delta n_{eff}\frac{4\pi L}{\lambda})}{2}|E_{in}|^2
\end{equation}
其中，$\Delta n_{eff}$为两臂的等效折射率差，$L$为臂长，$\lambda$是工作波长。从公式\ref{Equ:tunable_T}和公式\ref{Equ:tunable_R}可以看出，$T$和$R$随等效折率差的变化趋势与我们用Interconnect软件仿真所得的图\ref{chapt5_tunable_reflection_mirror_spec_single}相同。反射率随等效折射率差的变化周期为$\lambda/2L$。当$\lambda = 1540~nm, L = 20~\mu m$时，周期为0.0385，与图\ref{chapt5_tunable_reflection_mirror_spec_single}中所示的相同。

\begin{figure}[htb]
	\centering
	\includegraphics[width=15cm]{./Pictures/chapt5_grating_ring_real_3dB.eps}
	\caption{对于可调反射镜，当耦合器的耦合率(coupling coefficient)变化时，改变两臂的等效折射率差$\Delta n_{eff}$对可调反射镜反射率的影响。}
	\label{chapt5_grating_ring_real_3dB}
\end{figure}
我们进一步分析了，当实际加工的3~dB耦合器并非理想的将能量均分时，对可调反射器性能的影响。由于在实验中，两个耦合器的结构相同，工艺步骤相同，因此我们默认两者的耦合效率(coupling coefficient)始终保持一样。 图\ref{chapt5_grating_ring_real_3dB}可以看出，当耦合效率在0.85至0.15之间变化时，通过调节两臂的等效折射率差，依旧能使可调反射镜达到全反射和全透过的工作点。这表明了这个可调反射镜具有很大的工艺容差。下面我将使用这个可调反射镜与微环相结合实现新型的硅基可调反射镜的微环调制器。

\section{硅基可调反射镜的微环调制器的设计}
\begin{figure}[htb]
	\centering
	\includegraphics[width=12cm]{./Pictures/chapt5_tunable_reflection_ring_structure.jpg}
	\caption{硅基可调反射镜的微环调制器的结构示意图}
	\label{chapt5_tunable_reflection_ring_structure}
\end{figure}
我们将可调反射镜与微环相结合的结构如图\ref{chapt5_tunable_reflection_ring_structure}所示。当默认状态下可调反射镜的反射率为0，微环在谐振波长处有最大的消光比，当我们调制可调反射镜的一臂的等效折射率，使可调反射镜的反射率非0时，从而使输出的谐振波长处的消光比减小，实现谐振波长处光的调制器。从图\ref{chapt5_r_k_Ex_alpha1e-2}，\ref{chapt5_r_k_Ex_alpha1e-3}，\ref{chapt5_r_k_Ex_alpha1e-4}可以看出，当微环的损耗越小，Q值越高时，内部反射导致的消光比的变化越明显。

我们设计的硅基可调反射镜中的相位调制区域只有20~$\mu m$，比微环调制和马赫曾德调制器中的调制区域长度都要短。这种新型调制器相比硅基马赫曾德光调制，无需实现相位调制区$\pi$相位的调，就能实现高消光比。相比于微环调制器，无需通过谐振峰的漂移，就能实现高相比。并且借助于可调反射镜宽光谱发射的特点，以及热调微环谐振峰，这种新型调制器有大的光学工作带宽。下面我们将详细介绍设计过程和调制带宽的仿真。

\begin{figure}[htb]
	\centering
	\includegraphics[width=12cm]{./Pictures/chapt5_deep_si_bend_loss.eps}
	\caption{在1550~nm处，不同弯曲半径下，转90$^\circ$导致的损耗(深刻蚀硅波导的尺寸450~nm宽，220~nm厚)}
	\label{chapt5_deep_si_bend_loss}
\end{figure}

我们在设计硅基可调反射镜与微环的波导尺寸参数与上一小结\ref{tunable_reflector}相同。除此之外，我们还需要考虑微环调制器的整体尺寸。而影响微环整体尺寸的主要是需要考虑波导的弯曲半径。对于450~nm宽的条形硅波导，波导弯曲半径与转90$^\circ$引入的损耗，见图\ref{chapt5_deep_si_bend_loss}所示。可见半径为6~$\mu m$时，损耗已经可以忽略。因此，我们设计微环的整体长度为100~$\mu m$，使器件布局后满足6~$\mu m$的弯曲半径。

在反射相位调制区域，我们分析两种pn掺杂方式实现相位调制，即交趾(Interleaved)和水平侧向(Lateral) pn掺杂。根据Imec的工艺参数\cite{Imec}，交趾pn掺杂的方式\cite{li2009silicon,pantouvaki2013comparison}，在1550~nm处$V_\pi L = 0.8~V/cm$，也就意味着每伏电压使等效折射率有$1 \times  10^{-4}$的变化量。由于我们采用的集总电极的结构，这会使相位调制区形成驻波，电压加倍。因此，在集总电极的情况下，只需要1~V就能达到等效折射率$2 \times  10^{-4}$的变化量。而Imec的工艺参数中水平侧向pn掺杂的方式\cite{pantouvaki2013comparison}，在1550~nm处$V_\pi L = 0.9~V/cm$，，此时，需要1.22~V才能达到等效折射率$2 \times 10^{-4}$的变化量。

\begin{figure}[htb]
	\small
	\subfigure[微环内部有反射和无反射的透射谱]{
		\begin{minipage}[]{0.5\textwidth}
			\centering
			\label{chapt5_reflactor_modulator_k1}
			\includegraphics[width=8cm]{./Pictures/chapt5_reflactor_modulator_k1.eps}
		\end{minipage}}
	\subfigure[单个谐振波长$\lambda_c$附近透射谱的放大图]{
		\begin{minipage}[]{0.5\textwidth}
			\centering
			\label{chapt5_reflactor_modulator_k1_large} %% label for second subfigure
			\includegraphics[width=8cm]{./Pictures/chapt5_reflactor_modulator_k1_large.eps}
		\end{minipage}}
	\subfigure[谐振波长$\lambda_c$附近调制的消光比]{
		\begin{minipage}[]{0.5\textwidth}
			\centering
			\label{chapt5_reflactor_modulator_k1_ER} %% label for second subfigure
			\includegraphics[width=8cm]{./Pictures/chapt5_reflactor_modulator_k1_ER.eps}
		\end{minipage}}		
	\subfigure[谐振波长$\lambda_c$附近调制的插入损耗]{
		\begin{minipage}[]{0.5\textwidth}
			\centering
			\label{chapt5_reflactor_modulator_k1_IL} %% label for second subfigure
			\includegraphics[width=8cm]{./Pictures/chapt5_reflactor_modulator_k1_IL.eps}
		\end{minipage}}			
	\caption{硅基可调反射镜的微环调制器的在第一耦合系数$k_{s1}$为0.0348的透射谱，调制消光比(Extinction Ratio， ER)和插入损耗(Insertion Loss，IL)}
	\label{chapt5_reflactor_modulator_k1_modulator}	
\end{figure}

\begin{figure}[htb]
	\small
	\subfigure[微环内部有反射和无反射的透射谱]{
		\begin{minipage}[]{0.5\textwidth}
			\centering
			\label{chapt5_reflactor_modulator_k2}
			\includegraphics[width=8cm]{./Pictures/chapt5_reflactor_modulator_k2.eps}
		\end{minipage}}
	\subfigure[单个谐振波长$\lambda_c$附近透射谱的放大图]{
		\begin{minipage}[]{0.5\textwidth}
			\centering
			\label{chapt5_reflactor_modulator_k2_large} %% label for second subfigure
			\includegraphics[width=8cm]{./Pictures/chapt5_reflactor_modulator_k2_large.eps}
		\end{minipage}}
	\subfigure[谐振波长$\lambda_c$附近调制的消光比]{
		\begin{minipage}[]{0.5\textwidth}
			\centering
			\label{chapt5_reflactor_modulator_k2_ER} %% label for second subfigure
			\includegraphics[width=8cm]{./Pictures/chapt5_reflactor_modulator_k2_ER.eps}
		\end{minipage}}		
	\subfigure[谐振波长$\lambda_c$附近调制的插入损耗]{
		\begin{minipage}[]{0.5\textwidth}
			\centering
			\label{chapt5_reflactor_modulator_k2_IL} %% label for second subfigure
			\includegraphics[width=8cm]{./Pictures/chapt5_reflactor_modulator_k2_IL.eps}
		\end{minipage}}			
	\caption{硅基可调反射镜的微环调制器在第二耦合系数$k_{s1}$为0.0475的透射谱，调制消光比(Extinction Ratio， ER)和插入损耗(Insertion Loss，IL)}
	\label{chapt5_reflactor_modulator_k2_modulator}	
\end{figure}	
我们继续采用Intercoonnect商业软件对整个器件的性能进行仿真计算。其中微环波导的耦合系数，可以选择两个值。当选用耦合系数$k_{s1}$时，微环内部没有反射则谐振峰的损耗最大。此时，谐振峰低损耗状态是需要在相位调制器加电压，引入反射。当选耦合系数$k_{s2}$时，微环内部有反射则谐振峰的消光比达到最大。而没有反射时，谐振峰处于透过状态。

图\ref{chapt5_reflactor_modulator_k1_modulator}展示了，当耦合系数处于第一个状态下($k_{s1} = 0.0348$)，等效折射率差($\Delta n_{eff} = n_{eff1}-n_{eff2}$)从0变化到$2 \times  10^{-4}$对透射谱的影响。从图\ref{chapt5_reflactor_modulator_k1}和局部放大图\ref{chapt5_reflactor_modulator_k1_large}可以看到，由于可调反射器反射谱宽的特性，所有谐振波长都会受到显著的强度调制。该调制器谐振峰之间的间距为2.9~nm，如果我们在微环上加入热电极，就可以调节谐振波长的位置，从而实现宽光学带宽的调制。图\ref{chapt5_reflactor_modulator_k1_ER}展示了在谐振波长附近的调制消光比(为图\ref{chapt5_reflactor_modulator_k1_large}中两条曲线的差值。)。可以看到对于谐振波长$\lambda_c$，调制器消光比达到了28~dB，而此时的插入损耗为9.6~dB，如图\ref{chapt5_reflactor_modulator_k1_ER}所示。这个插入损耗可以通过改进工艺，降低波导的损耗，从而使微环的谐振峰，在有内部反射的情况下，损耗降低。

我们同样分析了，当微环处于第二个可选耦合系数($k_{s2} = 0.0475$)下，器件的透射谱，消光比和插入损耗，见图\ref{chapt5_reflactor_modulator_k2_modulator}所示。从图\ref{chapt5_reflactor_modulator_k2}和图\ref{chapt5_reflactor_modulator_k2_large}可以看出，在这个耦合系数下，调制其的透射谱几乎和图\ref{chapt5_reflactor_modulator_k1}和图\ref{chapt5_reflactor_modulator_k1_large}的保持一致，除了两个工作状态下的谐振峰的消光比互换。此时，调制器消光比为26~dB，而插入损耗为8~dB，都比耦合系数为$k_{s1}=0.0348$的消光比和插入损耗小一些。

\begin{figure}[htb]
	\centering
	\includegraphics[width=12cm]{./Pictures/chapt5_tunable_reflection_ring_modulator_equit_circuit.jpg}
	\caption{基于集总电极的硅基可调反射镜的微环调制器等效电路模型}
	\label{chapt5_tunable_reflection_ring_modulator_equit_circuit}
\end{figure}
\begin{figure}[htb]
	\centering
	\includegraphics[width=12cm]{./Pictures/chapt5_bandwidth.eps}
	\caption{利用20~$\mu m$长的集总电极的硅基可调反射镜的微环调制器，在Lateral和交趾Interleaved pn掺杂下，电光调制的频谱响应($R_{EO}$)}
	\label{chapt5_bandwidth}
\end{figure}

下面我们将分析调制器的3~dB调制带宽。硅基相位调制器的电路模型如图\ref{chapt5_tunable_reflection_ring_modulator_equit_circuit}所示。其中，$C_p$为用于接触探针的电极焊盘(pad)的寄生电容，$R_s$，$C_s$为金属电极的寄生电阻，电容和电感。$L_j$，$R_j$和$C_j$分别为pn结的寄生电感，串联电阻和结区电容。对于交趾掺杂的相位调制器，Imec公司\cite{Imec}提供的参数为:$C_p = 9.3~fF, C_s = 56.4~fF, Rs = 904~\Omega, L_j = 0.0142~nH, R_j = 8.85~\Omega\cdot mm, C_j = 563.6~fF/mm$。因此，我们计算得到的电光调制带宽($R_{EO}$)如图\ref{chapt5_bandwidth}所示。对应的3~dB带宽达到了25~GHz。我们也可以采用水平侧向pn掺杂可以提高调制器的带宽。此pn结的$L_j = 0.0484~nH, R_j = 5.225~\Omega\cdot mm, C_j = 86.8~fF/mm$，其对应的电光调制带宽如图\ref{chapt5_bandwidth}所示，3~dB带宽达到了67~GHz。表\ref{lateral_interleaved}给出了对这两种掺杂模式在3~dB调制带宽，动态能耗和调制器上的比较。从中可以得到看出，水平侧向pn掺杂模式的具有大带宽，低动态调制能耗的优势。而交趾pn掺杂的调制器具有低驱动电压的优势。

{
	\begin{table}[htb]
		\zihao{5}
		\caption{硅基可调反射镜的微环调制器在Lateral和Interleaved pn掺杂下的性能比较}
		\label{lateral_interleaved}
		\centering
		\begin{tabular}[t]{p{4cm}ccc}
			\hline
			掺杂方式 &  电光调制3~dB带宽~(GHz) & 动态能耗 (fJ/bit) & 调制电压 (V)\\
			\hline
			Lateral pn & 67 &  2.6 & 1.22 \\
			Interleaved pn & 25 & 2.8 & 1 \\
			\hline
		\end{tabular}
	\end{table}
}

\section{本章小结}
在本章中，我们首先通过时域的微分方程模型，宏观上分析了微环中反射对透射谱的影响。可以看到对于高Q值，并且工作在临界耦合点的微环，内部微小的反射，对谐振波长的透射率有显著提高。然后我们在微环中引入光栅结构，实验上分析了微环中的不同反射强度对微环的透射率以及谐振峰劈裂的影响。我们利用频域的传输矩阵也计算了含光栅微环的透射谱，结果与实验结果相吻合。接着，我们设计并分析了硅基可调反射镜的结构，实现了宽光谱范围的可调反射。并且分析了这种结构可调反射镜的工艺容差。最后，我们将可调反射镜与微环相结合，分析了调制器的静态消光比，插入损耗，和动态的电光调制带宽。通过分析两种不同的掺杂模式，我们计算了在水平侧向pn掺杂模式下，调制器的驱动电压为1.22~V，动态能耗为2.6~fJ/bit，3~dB的电光调制带宽能达到67~GHz。

